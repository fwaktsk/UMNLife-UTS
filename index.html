<!DOCTYPE html>
<html>
    <head>
        <title>
            UMNLife 
        </title>
        <link title="bootstrapcss" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="alternate stylesheet" title="bootstrapcss" href="bootstrap-5.1.3-dist/css/bootstrap.css" />
        <link rel="stylesheet" href="style.css" />
        <script src="bootstrap-5.1.3-dist/js/bootstrap.js"></script>
    </head>
    <body>
        <div id="top">
            <div id="banner" class="d-block align-items-center justify-content-center">
                <img width="80" src="images/piala.png" class="img-fluid"/>
                <br />
                <div class="text-center">
                    <h3>Ujian Tengah Semester</h3>
                </div>
            </div>
        </div>
        <hr style="height:2px; opacity:100%;">
        <!-- progress ama meter ga sama ukurannya (padahal pxnya sama) -->
        <div id="status">
            <div class="row md-6">
                <div class="col">
                    <label for="hunger">image hunger</label>
                    <meter id="hunger" min="0" low="15" value="75" optimum="60" high="70" max="100"></meter>
                </div>
                <div>
                    <label for="entertainment">image hunger</label>
                    <meter id="entertainment" min="0" low="15" value="75" optimum="60" high="70" max="100"></meter>
                </div>
            </div>
            <div class="row md-6">
                <div class="col">
                    <label for="rest">image rest</label>
                    <meter id="rest" min="0" low="15" value="75" optimum="60" high="70" max="100"></meter>
                </div>
                <div>
                    <label for="study">image study</label>
                    <progress id="study" value="0" max="100"></progress>
                </div>
            </div>
            <div class="col md-6">
                <h4 id="semester"></h4>
            </div>
        </div>
        <br>
        <div id="home">
            <h2 id="greet">
            </h2>
            <h4 id="time">
                <body onload="showTime()">
                <div id="jam"></div>
            </h4>
        </div>
        <div id="menu" class="d-flex align-items-center justify-content-center">
            <input type="image" src="images/left_arrow.png" style="width: 5%;" onclick="leftArrow()" id="leftArrow" />
            <img id="avatar" width="25%" src="images/1.png">
            <input type="image" src="images/right_arrow.png" style="width: 5%;" onclick="rightArrow()" id="rightArrow" />
        </div>
        <div id="regis" class="container align-items-center align-content-center">
            <p>Enter your name here...</p>
            
            <form>
                <div class="container form-floating" style="width: 30%;">
                    <input type="text" id="nama" class="form-control" placeholder="Nama" />
                    <label for="nama" style="width: 30%;">Nama</label>
                </div>
                
                <button type="button" id="playGame" onclick="startGame()" class="btn btn-primary mt-3 mx-auto d-block">PLAY</button>
            </form>
        </div>
        <div id="actions" class="container align-content-center align-items-center">

        </div>

        <script type="text/javascript">
            var game = 0;
            var low = 15;
            var high = 75;

            var name;
            function startGame()
            {
                name = document.getElementById("nama").value;
                if(name != '')
                {
                    document.getElementById("greet").innerHTML = "<strong>Good Day, "+name+"</strong>";
                    document.getElementById("status").style.display = "flex";
                    document.getElementById("leftArrow").style.display = "none";
                    document.getElementById("rightArrow").style.display = "none";
                    document.getElementById("regis").style.display = "none";
                    game = 1;
                    document.getElementById("semester").innerHTML = "Semester 1";
                    document.getElementById("actions").style.display = "inline";
                }
            }
            function leftArrow()
            {
                img = document.getElementById("avatar");
                e = img.getAttribute("src");
                path = e.split("/");
                index = path[1].split(".",1);
                if(index==2)
                {
                    document.getElementById("leftArrow").style.visibility = "hidden";
                }
                index--;
                newPath = "images/"+index+".png";
                document.getElementById("avatar").setAttribute("src",newPath);
                if(index==7)
                {
                    document.getElementById("rightArrow").style.visibility = "visible";
                }
            }
            function rightArrow()
            {
                img = document.getElementById("avatar");
                e = img.getAttribute("src");
                path = e.split("/");
                index = path[1].split(".",1);
                if(index==7)
                {
                    document.getElementById("rightArrow").style.visibility = "hidden";
                }
                index++;
                newPath = "images/"+index+".png";
                document.getElementById("avatar").setAttribute("src",newPath);
                if(index==2)
                {
                    document.getElementById("leftArrow").style.visibility = "visible";
                }
            }
            function showTime() {
                const today = new Date();
                let h = today.getHours();
                let m = today.getMinutes();
                let s = today.getSeconds();
                m = checkTime(s);
                document.getElementById('jam').innerHTML =  h + ":" + m;
                setTimeout(showTime, 1000);
            }

            function checkTime(i) {
                if (i < 10) {i = "0" + i};
                return i;
            }

            function gameOver(hunger, ent, rest)
            {
                clearInterval(statbar);
                if(hunger == 0)
                {
                    alert("GAME OVER... "+ name + " meninggal akibat penyakit dari kelaparan :(((");
                    //tampilan mati kelaparan
                }
                else if(ent == 0)
                {
                    alert("GAME OVER... "+ name + " jadi gila akibat stress dan kurang hiburan :(((");
                    //tampilan stress dan jadi gila
                }
                else if(rest == 0)
                {
                    alert("GAME OVER... "+ name + " mati terkena serangan jantung karena kecapean :(((");
                    //tampilan mati kecapean
                }
            }

            statbar = setInterval(function ()
            {
                if(game != 0)
                {
                    hunger = document.getElementById("hunger").value;
                    hunger -= 1;
                    ent = document.getElementById("entertainment").value;
                    ent -= 1;
                    rest = document.getElementById("rest").value;
                    rest -= 0.5;

                    if(hunger == 0 || ent == 0 || rest == 0)
                    {
                        gameOver(hunger, ent, rest);
                    }
                    if(hunger == low)
                    {
                        alert("Hati-hati, anda mulai kelaparan. Belajar boleh tapi jangan lupa makan!");
                    }
                    if(ent == low)
                    {
                        alert("Hati-hati, anda mulai stres. Refreshing dikit biar ga suntuk!");
                    }
                    if(rest == low)
                    {
                        alert("Hati-hati, anda mulai lelah. Jangan lupa beristirahat yang cukup");
                    }
                    document.getElementById("hunger").value = hunger;
                    document.getElementById("entertainment").value = ent;
                    document.getElementById("rest").value = rest;
                }
            }, 1000)
        </script>
    </body>
</html>